# Output Variables

``` terraform
# main.tf

resource "local_file" "pet" {
    filename = var.filename
    content = "My favorite pet is ${random_pet.my-pet.id}"
}

resource "random_pet" "my-pet" {
    prefix = var.prefix
    separator = var.separator
    length = var.length
}
```

위 파일에서 `pet` 리소스는 `my-pet` 의 id attribute 를 사용한다.

이 id 를 `output variable`로 지정하자.

`output variable`의 형식은 다음과 같다:

```terraform
output "<variable_name>" {
    value = "<varuable_value>"
    <arguments>
}
```

random_pet.my-pet.id 를 `output variable`로 지정하기 위해선 다음과 같이 파일을 작성한다:

``` terraform
# main.tf

resource "local_file" "pet" {
    filename = var.filename
    content = "My favorite pet is ${random_pet.my-pet.id}"
}

resource "random_pet" "my-pet" {
    prefix = var.prefix
    separator = var.separator
    length = var.length
}

output "pet-name" {
    value = random_pet.my-pet.id
    description = "Record the value of pet ID generated by the random_pet resource"
}
```

`terraform apply` 시, 다음과 같이 output 이 출력됨을 확인할 수 있다:

![img.png](../images/2-terraform-basics/8-output-variables/img.png)

`terraform output` 명령어를 통해 output 만 따로 출력할 수 있다:

![img_1.png](../images/2-terraform-basics/8-output-variables/img_1.png)

`terraform output <output_variable_name>` 명령어를 통해 특정 output 만 따로 출력할 수 있다:

![img_2.png](../images/2-terraform-basics/8-output-variables/img_2.png)

### output variable 을 사용하는 이유는 무엇일까?

앞전 예제에서처럼, 리소스가 다른 리소스를 의존하는 경우 꼭 output variable 을 사용해야 하는 것은 아니다.

하지만, `terraform apply` 실행의 결과물이 `ansible`과 같이 다른 IaC 도구에 의해 사용되는 경우, output variable 을 사용해야 한다.
